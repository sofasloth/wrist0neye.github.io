---
title: (PyQt6)3. PyQt6 UI 간단히 꾸며보기
date: 2024-09-03 01:05:00 +0900
categories:
  - Programming
  - Python
tags:
  - python
  - pyQt6
  - GUI
pin: false
mermaid: "false"
image:
  path: /assets/img/thumbnail/pyqt++.png
incomplete: true
math: true
published: true
comments: true
---
- 목차 글 : [2024-08-06-pyQt6 Index](2024-08-06-pyQt6%20Index.md)
- 이전 글 : [PyQt6_2. 기본 위젯 소개](2024-09-03-PyQt6%20기본%20위젯%20모음.md)

### 작성할 내용들
- [ ] `.setStyleSheet()`로 꾸미기
- [ ] `.setStyleSheet`로 안 되는 것들
	- [ ] `dropshadow`
	- [ ] `animation`은 구현 안 할 예정..

> 이 글부터는 `pyside6-uic.exe`로 UI를 만들지 않고 코드만으로 UI를 짤 예정이다. 그 이유는 나중에 `sqlite3`나 `json/csv` 등을 활용해 UI를 동적으로 만들어지도록 하기 위해서다. 
{: .prompt-info}

이번 시간에는 pyqt를 그나마 html처럼 꾸미는 방법에 대해서 알아볼 예정이다.

## `.setStyleSheet()`로 UI꾸미기

다음과 같은 UI를 구현해보려고 한다. 

![](/assets/img/res/Pasted%20image%2020240906135547.png)

```python
class CardDiv(QWidget) :  
    def __init__(self):  
        super().__init__()  
        self.setWindowTitle("Card Widget")
        self.init_layout()  
  
    def init_layout(self):  
        self.bglayout = QVBoxLayout(self)  
  
        # Title쪽 구역 구현  
        self.titlebar = QWidget()  
        self.bglayout.addWidget(self.titlebar)  
  
        self.titlelayout = QHBoxLayout(self.titlebar)  
  
        self.title = QLabel("Class 1")  
        self.title_hspacer = QWidget()  
        self.title_hspacer.setSizePolicy(QSizePolicy.Policy.Expanding, QSizePolicy.Policy.Maximum)  
  
        self.button = QPushButton('+')  
  
        for elem in ["title", "title_hspacer", "button"] :  
            self.titlelayout.addWidget(getattr(self, elem))  
  
  
        # property 구현  
        self.propertycontainer = QWidget()  
        self.bglayout.addWidget(self.propertycontainer)  
  
        self.propertylayout = QGridLayout(self.propertycontainer)  

		### QLabel 구간은 반복문으로 한 번에 구현
        for i in range(1,5) :  
            setattr(self, f'prop{i}_value', QLabel(f'property{i}'))  
            label = getattr(self, f'prop{i}_value')  
            idx = i-1  
            self.propertylayout.addWidget(label, idx//2, (idx%2)*2)  
  
        #self.prop1_label = QLabel('property1')  
        self.prop1_value = QLineEdit()  
        self.prop1_value.setPlaceholderText("Type anything...")  
        # self.propertylayout.addWidget(self.prop1_label, 0,0)  
        self.propertylayout.addWidget(self.prop1_value, 0,1)  
  
        #self.prop2_label = QLabel('property2')  
        self.prop2_value = QSpinBox()  
        # self.propertylayout.addwidget(self.prop2_label,0,2)  
        self.propertylayout.addWidget(self.prop2_value,0,3)  
  
        #self.prop3_label  
        self.prop3_value = QDoubleSpinBox()  
        self.propertylayout.addWidget(self.prop3_value,1,1)  
  
        #self.prop4_label  
        self.prop4_value = QComboBox()  
        self.propertylayout.addWidget(self.prop4_value,1,3)
```

위 코드를 실행해보면 아래와 같은 결과물이 나온다.

![](/assets/img/res/Pasted%20image%2020240906141745.png)

Window11에서는 기본 디자인이 깔끔해서 잘 나왔지만, 10 혹은 raspberry pi에서 돌려보자. 실행파일을 `.exe` 파일로 변환하고 옮겨서 테스트해보려고 한다.
```shell
pip install pyinstaller==5.13.2 # 최신 버전은 윈도우 보안에 걸려서 빌드가 안 된다.
pyinstaller -F --noconsole main.py # --onefile --noconsole
```

성공적으로 빌드되면 `/dist` 폴더 내에 `main.exe`파일이 정상적으로 생성된다.




개발자는 이 앱이 어떻게 구성되어있는지 알지만 사용자나 의뢰자는 구린 UI를 보고 한 번에 이해하기 어려울 수도 있다. 웹 페이지처럼 반응형으로 꾸미긴 어렵더라도 간단하게라도 가독성을 높이는 방법이 있다.

### 그냥 `.setStyleSheet()` 적용했을 경우


### ObjectName 설정하기

### `box-shadow` 구현하기
- `.setStyleSheet()`으로 CSS 일부 기능을 그대로 따라 구현이 가능하지만 이 메소드로 적용할 수 없는 스타일이 있다.
	- 대표적으로 `.box-shadow`와 `transition` 같은 애니메이션 기능이다.
- 이 스타일들은 Qt 모듈에서 별도의 기능으로 구현되어 있다.

애니메이션은 과해서 그냥 box-shadow를 사용할 예정이다.




- 다음 글 : [2024-09-03-PyQt6와 Sqlite3](2024-09-03-PyQt6와%20Sqlite3.md)
## Reference
- **[(stackoverflow) win32ctypes.pywin32 에러 해결](https://stackoverflow.com/questions/77239487/win32ctypes-pywin32-pywintypes-error-when-using-pyinstaller-in-vs-code-possib)**

